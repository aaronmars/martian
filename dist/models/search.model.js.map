{"version":3,"names":[],"mappings":"","sources":["models/search.model.js"],"sourcesContent":["/**\n * Martian - Core JavaScript API for MindTouch\n *\n * Copyright (c) 2015 MindTouch Inc.\n * www.mindtouch.com  oss@mindtouch.com\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {modelHelper} from './modelHelper';\nlet searchModel = {\n    parse(data) {\n        let obj = modelHelper.fromJson(data);\n        let search = {\n            ranking: obj['@ranking'],\n            queryId: obj['@queryid'],\n            queryCount: modelHelper.getInt(obj['@querycount']),\n            recommendationCount: modelHelper.getInt(obj['@count.recommendations']),\n            count: modelHelper.getInt(obj['@count']),\n            result: []\n        };\n        if('result' in obj) {\n            let results = modelHelper.getArray(obj.result);\n            results.forEach((result) => {\n                search.result.push({\n                    author: result.author,\n                    content: result.content,\n                    dateModified: modelHelper.getDate(result['date.modified']),\n                    id: result.id,\n                    mime: result.mime,\n                    rank: result.rank,\n                    title: result.title,\n                    uri: result.uri,\n                    uriTrack: result['uri.track'],\n                    page: {\n                        path: result.page.path,\n                        rating: result.page.rating,\n                        title: result.page.title,\n                        uriUi: result.page['uri.ui']\n                    }\n                });\n            });\n        }\n        if('summary' in obj) {\n            search.summary = {\n                path: obj.summary['@path'],\n                results: []\n            };\n            if('results' in obj.summary) {\n                let results = modelHelper.getArray(obj.summary.results);\n                results.forEach((result) => {\n                    search.summary.results.push({\n                        path: result['@path'],\n                        count: modelHelper.getInt(result['@count']),\n                        title: result['@title']\n                    });\n                });\n            }\n        }\n        return search;\n    }\n};\nexport {searchModel};\n"],"file":"models/search.model.js","sourceRoot":"/source/"}